import{r as j,a as Z,b as ot,c as X,d as tt,g as et,e as dt,f as nt,h as _t,i as ut}from"./scrollbar-4bb2394e.js";import{d as ft,m as Y,a as Q,o as g,c as v,b as t,F as H,r as it,e as L,t as x,w as mt,v as pt,f as K,g as V,h as w,i as F,j as at,n as gt,s as vt,k as bt}from"./index-5f5143cc.js";import{c as J}from"./cartStore-fc08ca8a.js";import{s as rt}from"./statusStore-01d9db1c.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";var lt={exports:{}};/*!
  * Bootstrap collapse.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(s,c){(function(p,e){s.exports=e(j(),Z(),ot(),X())})(tt,function(p,e,h,l){const n="collapse",a=".bs.collapse",k=".data-api",O=`show${a}`,U=`shown${a}`,E=`hide${a}`,M=`hidden${a}`,q=`click${a}${k}`,D="show",A="collapse",$="collapsing",I="collapsed",N=`:scope .${A} .${A}`,y="collapse-horizontal",R="width",W="height",S=".collapse.show, .collapse.collapsing",P='[data-bs-toggle="collapse"]',r={parent:null,toggle:!0},m={parent:"(null|element)",toggle:"boolean"};class T extends p{constructor(o,u){super(o,u),this._isTransitioning=!1,this._triggerArray=[];const d=h.find(P);for(const f of d){const C=h.getSelectorFromElement(f),i=h.find(C).filter(_=>_===this._element);C!==null&&i.length&&this._triggerArray.push(f)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return r}static get DefaultType(){return m}static get NAME(){return n}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let o=[];if(this._config.parent&&(o=this._getFirstLevelChildren(S).filter(_=>_!==this._element).map(_=>T.getOrCreateInstance(_,{toggle:!1}))),o.length&&o[0]._isTransitioning||e.trigger(this._element,O).defaultPrevented)return;for(const _ of o)_.hide();const d=this._getDimension();this._element.classList.remove(A),this._element.classList.add($),this._element.style[d]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const f=()=>{this._isTransitioning=!1,this._element.classList.remove($),this._element.classList.add(A,D),this._element.style[d]="",e.trigger(this._element,U)},i=`scroll${d[0].toUpperCase()+d.slice(1)}`;this._queueCallback(f,this._element,!0),this._element.style[d]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown()||e.trigger(this._element,E).defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,l.reflow(this._element),this._element.classList.add($),this._element.classList.remove(A,D);for(const f of this._triggerArray){const C=h.getElementFromSelector(f);C&&!this._isShown(C)&&this._addAriaAndCollapsedClass([f],!1)}this._isTransitioning=!0;const d=()=>{this._isTransitioning=!1,this._element.classList.remove($),this._element.classList.add(A),e.trigger(this._element,M)};this._element.style[u]="",this._queueCallback(d,this._element,!0)}_isShown(o=this._element){return o.classList.contains(D)}_configAfterMerge(o){return o.toggle=!!o.toggle,o.parent=l.getElement(o.parent),o}_getDimension(){return this._element.classList.contains(y)?R:W}_initializeChildren(){if(!this._config.parent)return;const o=this._getFirstLevelChildren(P);for(const u of o){const d=h.getElementFromSelector(u);d&&this._addAriaAndCollapsedClass([u],this._isShown(d))}}_getFirstLevelChildren(o){const u=h.find(N,this._config.parent);return h.find(o,this._config.parent).filter(d=>!u.includes(d))}_addAriaAndCollapsedClass(o,u){if(o.length)for(const d of o)d.classList.toggle(I,!u),d.setAttribute("aria-expanded",u)}static jQueryInterface(o){const u={};return typeof o=="string"&&/show|hide/.test(o)&&(u.toggle=!1),this.each(function(){const d=T.getOrCreateInstance(this,u);if(typeof o=="string"){if(typeof d[o]>"u")throw new TypeError(`No method named "${o}"`);d[o]()}})}}return e.on(document,q,P,function(B){(B.target.tagName==="A"||B.delegateTarget&&B.delegateTarget.tagName==="A")&&B.preventDefault();for(const o of h.getMultipleElementsFromSelector(this))T.getOrCreateInstance(o,{toggle:!1}).toggle()}),l.defineJQueryPlugin(T),T})})(lt);var Et=lt.exports;const Ct=et(Et);var ct={exports:{}};/*!
  * Bootstrap offcanvas.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(s,c){(function(p,e){s.exports=e(j(),Z(),ot(),dt(),nt(),_t(),X(),ut())})(tt,function(p,e,h,l,n,b,a,k){const O="offcanvas",E=".bs.offcanvas",M=".data-api",q=`load${E}${M}`,D="Escape",A="show",$="showing",I="hiding",N="offcanvas-backdrop",y=".offcanvas.show",R=`show${E}`,W=`shown${E}`,S=`hide${E}`,P=`hidePrevented${E}`,r=`hidden${E}`,m=`resize${E}`,T=`click${E}${M}`,B=`keydown.dismiss${E}`,o='[data-bs-toggle="offcanvas"]',u={backdrop:!0,keyboard:!0,scroll:!1},d={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class f extends p{constructor(i,_){super(i,_),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return u}static get DefaultType(){return d}static get NAME(){return O}toggle(i){return this._isShown?this.hide():this.show(i)}show(i){if(this._isShown||e.trigger(this._element,R,{relatedTarget:i}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new k().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add($);const st=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(A),this._element.classList.remove($),e.trigger(this._element,W,{relatedTarget:i})};this._queueCallback(st,this._element,!0)}hide(){if(!this._isShown||e.trigger(this._element,S).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(I),this._backdrop.hide();const _=()=>{this._element.classList.remove(A,I),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new k().reset(),e.trigger(this._element,r)};this._queueCallback(_,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const i=()=>{if(this._config.backdrop==="static"){e.trigger(this._element,P);return}this.hide()},_=!!this._config.backdrop;return new l({className:N,isVisible:_,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:_?i:null})}_initializeFocusTrap(){return new b({trapElement:this._element})}_addEventListeners(){e.on(this._element,B,i=>{if(i.key===D){if(this._config.keyboard){this.hide();return}e.trigger(this._element,P)}})}static jQueryInterface(i){return this.each(function(){const _=f.getOrCreateInstance(this,i);if(typeof i=="string"){if(_[i]===void 0||i.startsWith("_")||i==="constructor")throw new TypeError(`No method named "${i}"`);_[i](this)}})}}return e.on(document,T,o,function(C){const i=h.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&C.preventDefault(),a.isDisabled(this))return;e.one(i,r,()=>{a.isVisible(this)&&this.focus()});const _=h.findOne(y);_&&_!==i&&f.getInstance(_).hide(),f.getOrCreateInstance(i).toggle(this)}),e.on(window,q,()=>{for(const C of h.find(y))f.getOrCreateInstance(C).show()}),e.on(window,m,()=>{for(const C of h.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(C).position!=="fixed"&&f.getOrCreateInstance(C).hide()}),n.enableDismissTrigger(f),a.defineJQueryPlugin(f),f})})(ct);var At=ct.exports;const Tt=et(At),G=ft("uiStore",{state:()=>({offcanvas:null}),actions:{newOffcanvasInstance(s){this.offcanvas=new Tt(s)},openOffcanvas(){this.offcanvas.show()},closeOffcanvas(){this.offcanvas.hide()},toggleOffcanvas(){this.offcanvas.toggle()}}});const wt={data(){return{}},computed:{...Y(J,["cart"]),...Y(G,["offcanvas"]),...Y(rt,["isLoading","cartLoadingItem"])},methods:{...Q(J,["getCart","addToCart","updateCart","removeFromCart","removeAllCart"]),...Q(G,["newOffcanvasInstance","closeOffcanvas"]),checkorder(){this.closeOffcanvas(),this.$router.push("/checkorder")}},created(){this.getCart()},mounted(){this.newOffcanvasInstance(this.$refs.offcanvas)}},$t={class:"offcanvas offcanvas-end",tabindex:"-1",id:"cartOffcanvas","aria-labelledby":"cartOffcanvasLabel",ref:"offcanvas"},yt={class:"offcanvas-header border-bottom"},St=t("h5",{class:"offcanvas-title",id:"cartOffcanvasLabel"},"購物車",-1),kt={class:"offcanvas-body"},Nt={key:0,class:"text-center"},Lt={key:1},Ot={class:"table table-borderless align-middle text-center"},Dt=t("thead",{class:"thead"},[t("tr")],-1),It={class:"tbody"},xt={width:"80"},Vt=["src"],Mt={class:"text-primary"},Pt={class:"d-block"},Bt=["disabled","onUpdate:modelValue","onBlur"],Ft=["onClick"],Kt=t("i",{class:"bi bi-trash"},null,-1),qt=[Kt],Rt={class:"border-top"},Wt={key:0,colspan:"5",class:"text-end"},Yt={key:1,colspan:"5",class:"text-end"},zt={class:"text-muted"},Ut={class:"d-block"},Gt={class:"cart-controls d-flex justify-content-between"};function Ht(s,c,p,e,h,l){return g(),v("div",$t,[t("div",yt,[St,t("button",{onClick:c[0]||(c[0]=(...n)=>s.closeOffcanvas&&s.closeOffcanvas(...n)),type:"button",class:"btn-close text-reset","aria-label":"Close"})]),t("div",kt,[s.cart.carts.length?(g(),v("div",Lt,[t("table",Ot,[Dt,t("tbody",It,[(g(!0),v(H,null,it(s.cart.carts,n=>(g(),v("tr",{key:n.id},[t("td",xt,[t("img",{class:"table-img",src:n.product.imageUrl,alt:""},null,8,Vt)]),t("td",Mt,[L(x(n.product.title)+" ",1),t("span",Pt," NT$ "+x(s.$cash(n.product.price)),1)]),t("td",null,[mt(t("input",{type:"number",disabled:n.id===s.cartLoadingItem,"onUpdate:modelValue":b=>n.qty=b,onBlur:b=>s.updateCart(n),min:"1",max:"30",class:"form-control",inputmode:"numeric"},null,40,Bt),[[pt,n.qty,void 0,{number:!0}]])]),t("td",null,[t("button",{onClick:K(b=>s.removeFromCart(n.id),["prevent"]),class:"btn btn-outline-danger"},qt,8,Ft)])]))),128))]),t("tfoot",null,[t("tr",Rt,[s.cart.total===s.cart.final_total?(g(),v("td",Wt,"總計金額： NT$ "+x(s.$cash(s.cart.total)),1)):(g(),v("td",Yt,[t("del",zt,"總計金額： NT$ "+x(s.$cash(s.cart.total)),1),t("span",Ut,"折扣後金額： NT$ "+x(s.$cash(s.cart.final_total)),1)]))])])]),t("div",Gt,[t("button",{onClick:c[1]||(c[1]=K(n=>s.removeAllCart(),["prevent"])),class:"btn btn-primary text-white clearCart"},"清空購物車"),t("button",{onClick:c[2]||(c[2]=(...n)=>l.checkorder&&l.checkorder(...n)),class:"btn btn-primary text-white"},"前往結帳")])])):(g(),v("div",Nt,"購物車目前沒有商品！"))])],512)}const Qt=z(wt,[["render",Ht]]),Jt="/aromamystery-vue/assets/logo-3ba6eb12.svg",jt={data(){return{Collapse:null,isDropdownOpen:!1}},components:{Offcanvas:Qt},computed:{...Y(J,["cart"]),...Y(G,["offcanvas"])},methods:{...Q(G,["openOffcanvas","closeOffcanvas"]),toggleCollapse(){this.Collapse.toggle(),this.isDropdownOpen=!this.isDropdownOpen},hideCollapse(){this.Collapse.hide(),this.isDropdownOpen=!1}},mounted(){this.Collapse=new Ct(this.$refs.collapse,{toggle:!1})}},Zt={class:"navbar navbar-expand-lg sticky-top",id:"navbar"},Xt={class:"container"},te=["aria-expanded"],ee=t("span",{class:"navbar-toggler-icon"},null,-1),se=[ee],oe=t("img",{src:Jt,alt:"logo",class:"me-1 d-none d-lg-inline",style:{height:"30px"}},null,-1),ne={class:"order-lg-1"},ie={class:"bi bi-cart2 cartIcon"},ae={key:0,class:"cartBadge"},re={class:"cartCount"},le={class:"collapse navbar-collapse",id:"navbarSupportedContent",ref:"collapse"},ce={class:"navbar-nav ms-auto mb-2 mb-lg-0"},he={class:"nav-item mx-2"},de={class:"nav-item mx-2"},_e={class:"nav-item mx-2"},ue={class:"nav-item mx-2"};function fe(s,c,p,e,h,l){const n=V("router-link"),b=V("Offcanvas");return g(),v(H,null,[t("nav",Zt,[t("div",Xt,[t("button",{class:"navbar-toggler",type:"button","aria-controls":"navbarSupportedContent","aria-expanded":h.isDropdownOpen,"aria-label":"Toggle navigation",onClick:c[0]||(c[0]=K((...a)=>l.toggleCollapse&&l.toggleCollapse(...a),["prevent"]))},se,8,te),t("div",null,[oe,w(n,{to:"/",class:"navbar-brand text-tertiary align-bottom",onClick:K(l.hideCollapse,["prevent"])},{default:F(()=>[L("芳香秘境")]),_:1},8,["onClick"])]),t("div",ne,[t("a",{onClick:c[1]||(c[1]=K((...a)=>s.openOffcanvas&&s.openOffcanvas(...a),["prevent"])),class:"navbar-brand d-inline mx-1","aria-controls":"cartOffcanvas"},[t("i",ie,[s.cart.carts.length?(g(),v("span",ae,[t("span",re,x(s.cart.carts.length),1)])):at("",!0)])])]),t("div",le,[t("ul",ce,[t("li",he,[w(n,{to:"/about",class:"nav-link",onClick:l.hideCollapse},{default:F(()=>[L("關於我們")]),_:1},8,["onClick"])]),t("li",de,[w(n,{to:"/products",class:"nav-link",onClick:l.hideCollapse},{default:F(()=>[L("課程列表")]),_:1},8,["onClick"])]),t("li",_e,[w(n,{to:"/service",class:"nav-link",onClick:l.hideCollapse},{default:F(()=>[L("常見問題")]),_:1},8,["onClick"])]),t("li",ue,[w(n,{to:"/contact",class:"nav-link",onClick:l.hideCollapse},{default:F(()=>[L("聯絡我們")]),_:1},8,["onClick"])])])],512)])]),w(b)],64)}const me=z(jt,[["render",fe]]);var ht={exports:{}};/*!
  * Bootstrap toast.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(s,c){(function(p,e){s.exports=e(j(),Z(),nt(),X())})(tt,function(p,e,h,l){const n="toast",a=".bs.toast",k=`mouseover${a}`,O=`mouseout${a}`,U=`focusin${a}`,E=`focusout${a}`,M=`hide${a}`,q=`hidden${a}`,D=`show${a}`,A=`shown${a}`,$="fade",I="hide",N="show",y="showing",R={animation:"boolean",autohide:"boolean",delay:"number"},W={animation:!0,autohide:!0,delay:5e3};class S extends p{constructor(r,m){super(r,m),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return W}static get DefaultType(){return R}static get NAME(){return n}show(){if(e.trigger(this._element,D).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add($);const m=()=>{this._element.classList.remove(y),e.trigger(this._element,A),this._maybeScheduleHide()};this._element.classList.remove(I),l.reflow(this._element),this._element.classList.add(N,y),this._queueCallback(m,this._element,this._config.animation)}hide(){if(!this.isShown()||e.trigger(this._element,M).defaultPrevented)return;const m=()=>{this._element.classList.add(I),this._element.classList.remove(y,N),e.trigger(this._element,q)};this._element.classList.add(y),this._queueCallback(m,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(N),super.dispose()}isShown(){return this._element.classList.contains(N)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(r,m){switch(r.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=m;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=m;break}}if(m){this._clearTimeout();return}const T=r.relatedTarget;this._element===T||this._element.contains(T)||this._maybeScheduleHide()}_setListeners(){e.on(this._element,k,r=>this._onInteraction(r,!0)),e.on(this._element,O,r=>this._onInteraction(r,!1)),e.on(this._element,U,r=>this._onInteraction(r,!0)),e.on(this._element,E,r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const m=S.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof m[r]>"u")throw new TypeError(`No method named "${r}"`);m[r](this)}})}}return h.enableDismissTrigger(S),l.defineJQueryPlugin(S),S})})(ht);var pe=ht.exports;const ge=et(pe),ve={name:"Toast",props:["msg"],mounted(){const s=this.$refs.toast;new ge(s,{delay:2e3}).show()}},be={class:"d-flex"},Ee={class:"toast-body"},Ce=t("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1);function Ae(s,c,p,e,h,l){return g(),v("div",{class:gt(["toast align-items-center border-0",`toast-${p.msg.style}`]),role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},[t("div",be,[t("div",Ee,x(p.msg.title),1),Ce])],2)}const Te=z(ve,[["render",Ae]]),we={components:{Toast:Te},setup(){const s=rt(),{messages:c}=vt(s);return{messages:c}}},$e={class:"toast-container position-absolute pe-3 top-0 end-0",style:{"z-index":"1050"}};function ye(s,c,p,e,h,l){const n=V("Toast");return g(),v("div",$e,[(g(!0),v(H,null,it(e.messages,(b,a)=>(g(),bt(n,{key:a,msg:b},null,8,["msg"]))),128))])}const Se=z(we,[["render",ye]]);const ke={data(){return{showBtn:!1}},components:{Navbar:me,ToastMessage:Se},methods:{showScrollBtn(){this.showBtn=window.scrollY>=40},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}},mounted(){window.addEventListener("scroll",this.showScrollBtn)},unmounted(){window.removeEventListener("scroll",this.showScrollBtn)}},Ne={class:"front"},Le={class:"min-height"},Oe={key:0},De=t("i",{class:"bi bi-arrow-up text-white"},null,-1),Ie=[De],xe={class:"bg-primary py-4 text-white",id:"copyright"},Ve={class:"container"},Me={class:"row text-center"},Pe={class:"mb-0"},Be=t("small",{class:"d-block"}," © 2023 芳香秘境 All Rights Reserved. ",-1);function Fe(s,c,p,e,h,l){const n=V("Navbar"),b=V("router-view"),a=V("router-link"),k=V("ToastMessage");return g(),v(H,null,[t("div",Ne,[w(n),t("div",Le,[w(b)])]),h.showBtn?(g(),v("div",Oe,[t("a",{href:"#home",class:"btn btn-tertiary rounded-circle",id:"btn-back-to-top",onClick:c[0]||(c[0]=K((...O)=>l.scrollToTop&&l.scrollToTop(...O),["prevent"]))},Ie)])):at("",!0),t("footer",null,[t("section",xe,[t("div",Ve,[t("div",Me,[t("p",Pe,[L(" 本網站僅供個人作品使用，不提供商業用途｜"),w(a,{to:"/login",class:"d-inline nav-link"},{default:F(()=>[L("登入後台")]),_:1}),Be])])])])]),w(k)],64)}const ze=z(ke,[["render",Fe]]);export{ze as default};
