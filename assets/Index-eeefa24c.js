import{r as j,a as Z,b as ot,c as X,d as tt,g as et,e as dt,f as nt,h as _t,i as ut}from"./scrollbar-4bb2394e.js";import{d as ft,m as Y,a as Q,o as g,c as v,b as t,F as H,r as it,e as O,t as V,w as mt,v as pt,f as w,g as M,h as $,i as K,j as at,n as gt,s as vt,k as bt}from"./index-09ee44b4.js";import{c as J}from"./cartStore-8894c3e1.js";import{s as rt}from"./statusStore-cf1f3c97.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";var lt={exports:{}};/*!
  * Bootstrap collapse.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(s,c){(function(p,e){s.exports=e(j(),Z(),ot(),X())})(tt,function(p,e,_,l){const n="collapse",a=".bs.collapse",N=".data-api",D=`show${a}`,U=`shown${a}`,E=`hide${a}`,P=`hidden${a}`,q=`click${a}${N}`,I="show",A="collapse",y="collapsing",x="collapsed",L=`:scope .${A} .${A}`,S="collapse-horizontal",R="width",W="height",k=".collapse.show, .collapse.collapsing",B='[data-bs-toggle="collapse"]',r={parent:null,toggle:!0},m={parent:"(null|element)",toggle:"boolean"};class T extends p{constructor(o,u){super(o,u),this._isTransitioning=!1,this._triggerArray=[];const h=_.find(B);for(const f of h){const C=_.getSelectorFromElement(f),i=_.find(C).filter(d=>d===this._element);C!==null&&i.length&&this._triggerArray.push(f)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return r}static get DefaultType(){return m}static get NAME(){return n}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let o=[];if(this._config.parent&&(o=this._getFirstLevelChildren(k).filter(d=>d!==this._element).map(d=>T.getOrCreateInstance(d,{toggle:!1}))),o.length&&o[0]._isTransitioning||e.trigger(this._element,D).defaultPrevented)return;for(const d of o)d.hide();const h=this._getDimension();this._element.classList.remove(A),this._element.classList.add(y),this._element.style[h]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const f=()=>{this._isTransitioning=!1,this._element.classList.remove(y),this._element.classList.add(A,I),this._element.style[h]="",e.trigger(this._element,U)},i=`scroll${h[0].toUpperCase()+h.slice(1)}`;this._queueCallback(f,this._element,!0),this._element.style[h]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown()||e.trigger(this._element,E).defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,l.reflow(this._element),this._element.classList.add(y),this._element.classList.remove(A,I);for(const f of this._triggerArray){const C=_.getElementFromSelector(f);C&&!this._isShown(C)&&this._addAriaAndCollapsedClass([f],!1)}this._isTransitioning=!0;const h=()=>{this._isTransitioning=!1,this._element.classList.remove(y),this._element.classList.add(A),e.trigger(this._element,P)};this._element.style[u]="",this._queueCallback(h,this._element,!0)}_isShown(o=this._element){return o.classList.contains(I)}_configAfterMerge(o){return o.toggle=!!o.toggle,o.parent=l.getElement(o.parent),o}_getDimension(){return this._element.classList.contains(S)?R:W}_initializeChildren(){if(!this._config.parent)return;const o=this._getFirstLevelChildren(B);for(const u of o){const h=_.getElementFromSelector(u);h&&this._addAriaAndCollapsedClass([u],this._isShown(h))}}_getFirstLevelChildren(o){const u=_.find(L,this._config.parent);return _.find(o,this._config.parent).filter(h=>!u.includes(h))}_addAriaAndCollapsedClass(o,u){if(o.length)for(const h of o)h.classList.toggle(x,!u),h.setAttribute("aria-expanded",u)}static jQueryInterface(o){const u={};return typeof o=="string"&&/show|hide/.test(o)&&(u.toggle=!1),this.each(function(){const h=T.getOrCreateInstance(this,u);if(typeof o=="string"){if(typeof h[o]>"u")throw new TypeError(`No method named "${o}"`);h[o]()}})}}return e.on(document,q,B,function(F){(F.target.tagName==="A"||F.delegateTarget&&F.delegateTarget.tagName==="A")&&F.preventDefault();for(const o of _.getMultipleElementsFromSelector(this))T.getOrCreateInstance(o,{toggle:!1}).toggle()}),l.defineJQueryPlugin(T),T})})(lt);var Et=lt.exports;const Ct=et(Et);var ct={exports:{}};/*!
  * Bootstrap offcanvas.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(s,c){(function(p,e){s.exports=e(j(),Z(),ot(),dt(),nt(),_t(),X(),ut())})(tt,function(p,e,_,l,n,b,a,N){const D="offcanvas",E=".bs.offcanvas",P=".data-api",q=`load${E}${P}`,I="Escape",A="show",y="showing",x="hiding",L="offcanvas-backdrop",S=".offcanvas.show",R=`show${E}`,W=`shown${E}`,k=`hide${E}`,B=`hidePrevented${E}`,r=`hidden${E}`,m=`resize${E}`,T=`click${E}${P}`,F=`keydown.dismiss${E}`,o='[data-bs-toggle="offcanvas"]',u={backdrop:!0,keyboard:!0,scroll:!1},h={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class f extends p{constructor(i,d){super(i,d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return u}static get DefaultType(){return h}static get NAME(){return D}toggle(i){return this._isShown?this.hide():this.show(i)}show(i){if(this._isShown||e.trigger(this._element,R,{relatedTarget:i}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new N().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(y);const st=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(A),this._element.classList.remove(y),e.trigger(this._element,W,{relatedTarget:i})};this._queueCallback(st,this._element,!0)}hide(){if(!this._isShown||e.trigger(this._element,k).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(x),this._backdrop.hide();const d=()=>{this._element.classList.remove(A,x),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new N().reset(),e.trigger(this._element,r)};this._queueCallback(d,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const i=()=>{if(this._config.backdrop==="static"){e.trigger(this._element,B);return}this.hide()},d=!!this._config.backdrop;return new l({className:L,isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?i:null})}_initializeFocusTrap(){return new b({trapElement:this._element})}_addEventListeners(){e.on(this._element,F,i=>{if(i.key===I){if(this._config.keyboard){this.hide();return}e.trigger(this._element,B)}})}static jQueryInterface(i){return this.each(function(){const d=f.getOrCreateInstance(this,i);if(typeof i=="string"){if(d[i]===void 0||i.startsWith("_")||i==="constructor")throw new TypeError(`No method named "${i}"`);d[i](this)}})}}return e.on(document,T,o,function(C){const i=_.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&C.preventDefault(),a.isDisabled(this))return;e.one(i,r,()=>{a.isVisible(this)&&this.focus()});const d=_.findOne(S);d&&d!==i&&f.getInstance(d).hide(),f.getOrCreateInstance(i).toggle(this)}),e.on(window,q,()=>{for(const C of _.find(S))f.getOrCreateInstance(C).show()}),e.on(window,m,()=>{for(const C of _.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(C).position!=="fixed"&&f.getOrCreateInstance(C).hide()}),n.enableDismissTrigger(f),a.defineJQueryPlugin(f),f})})(ct);var At=ct.exports;const Tt=et(At),G=ft("uiStore",{state:()=>({offcanvas:null}),actions:{newOffcanvasInstance(s){this.offcanvas=new Tt(s)},openOffcanvas(){this.offcanvas.show()},closeOffcanvas(){this.offcanvas.hide()},toggleOffcanvas(){this.offcanvas.toggle()}}});const wt={data(){return{}},computed:{...Y(J,["cart"]),...Y(G,["offcanvas"]),...Y(rt,["isLoading","cartLoadingItem"])},methods:{...Q(J,["getCart","addToCart","updateCart","removeFromCart","removeAllCart"]),...Q(G,["newOffcanvasInstance","closeOffcanvas"]),checkorder(){this.closeOffcanvas(),this.$router.push("/checkorder")}},created(){this.getCart()},mounted(){this.newOffcanvasInstance(this.$refs.offcanvas)}},$t={class:"offcanvas offcanvas-end",tabindex:"-1",id:"cartOffcanvas","aria-labelledby":"cartOffcanvasLabel",ref:"offcanvas"},yt={class:"offcanvas-header border-bottom"},St=t("h5",{class:"offcanvas-title",id:"cartOffcanvasLabel"},"購物車",-1),kt={class:"offcanvas-body"},Nt={key:0,class:"text-center"},Lt={key:1},Ot={class:"table table-borderless align-middle text-center"},Dt=t("thead",{class:"thead"},[t("tr")],-1),It={class:"tbody"},xt={width:"80"},Vt=["src"],Mt={class:"text-primary"},Pt={class:"d-block"},Bt=["disabled","onUpdate:modelValue","onBlur"],Ft=["onClick"],Kt=t("i",{class:"bi bi-trash"},null,-1),qt=[Kt],Rt={class:"border-top"},Wt={key:0,colspan:"5",class:"text-end"},Yt={key:1,colspan:"5",class:"text-end"},zt={class:"text-muted"},Ut={class:"d-block"},Gt={class:"cart-controls d-flex justify-content-between"};function Ht(s,c,p,e,_,l){return g(),v("div",$t,[t("div",yt,[St,t("button",{onClick:c[0]||(c[0]=(...n)=>s.closeOffcanvas&&s.closeOffcanvas(...n)),type:"button",class:"btn-close text-reset","aria-label":"Close"})]),t("div",kt,[s.cart.carts.length?(g(),v("div",Lt,[t("table",Ot,[Dt,t("tbody",It,[(g(!0),v(H,null,it(s.cart.carts,n=>(g(),v("tr",{key:n.id},[t("td",xt,[t("img",{class:"table-img",src:n.product.imageUrl,alt:""},null,8,Vt)]),t("td",Mt,[O(V(n.product.title)+" ",1),t("span",Pt," NT$ "+V(s.$cash(n.product.price)),1)]),t("td",null,[mt(t("input",{type:"number",disabled:n.id===s.cartLoadingItem,"onUpdate:modelValue":b=>n.qty=b,onBlur:b=>s.updateCart(n),min:"1",max:"30",class:"form-control",inputmode:"numeric"},null,40,Bt),[[pt,n.qty,void 0,{number:!0}]])]),t("td",null,[t("button",{onClick:w(b=>s.removeFromCart(n.id),["prevent"]),class:"btn btn-outline-danger"},qt,8,Ft)])]))),128))]),t("tfoot",null,[t("tr",Rt,[s.cart.total===s.cart.final_total?(g(),v("td",Wt,"總計金額： NT$ "+V(s.$cash(s.cart.total)),1)):(g(),v("td",Yt,[t("del",zt,"總計金額： NT$ "+V(s.$cash(s.cart.total)),1),t("span",Ut,"折扣後金額： NT$ "+V(s.$cash(s.cart.final_total)),1)]))])])]),t("div",Gt,[t("button",{onClick:c[1]||(c[1]=w(n=>s.removeAllCart(),["prevent"])),class:"btn btn-primary text-white clearCart"},"清空購物車"),t("button",{onClick:c[2]||(c[2]=(...n)=>l.checkorder&&l.checkorder(...n)),class:"btn btn-primary text-white"},"前往結帳")])])):(g(),v("div",Nt,"購物車目前沒有商品！"))])],512)}const Qt=z(wt,[["render",Ht]]),Jt="/aromamystery-vue/assets/logo-3ba6eb12.svg",jt={data(){return{Collapse:null}},components:{Offcanvas:Qt},computed:{...Y(J,["cart"]),...Y(G,["offcanvas"])},methods:{...Q(G,["openOffcanvas","closeOffcanvas"]),toggleCollapse(){this.Collapse.toggle()},hideCollapse(){this.Collapse.hide()}},mounted(){this.Collapse=new Ct(this.$refs.collapse,{toggle:!1})}},Zt={class:"navbar navbar-expand-lg sticky-top",id:"navbar"},Xt={class:"container"},te=t("span",{class:"navbar-toggler-icon"},null,-1),ee=[te],se=t("img",{src:Jt,alt:"logo",class:"me-1 d-none d-lg-inline",style:{height:"30px"}},null,-1),oe={class:"order-lg-1"},ne={class:"bi bi-cart2 cartIcon"},ie={key:0,class:"cartBadge"},ae={class:"cartCount"},re={class:"collapse navbar-collapse",id:"navbarSupportedContent",ref:"collapse"},le={class:"navbar-nav ms-auto mb-2 mb-lg-0"},ce={class:"nav-item mx-2"},he={class:"nav-item mx-2"},de={class:"nav-item mx-2"},_e={class:"nav-item mx-2"};function ue(s,c,p,e,_,l){const n=M("router-link"),b=M("Offcanvas");return g(),v(H,null,[t("nav",Zt,[t("div",Xt,[t("button",{class:"navbar-toggler collapsed",type:"button","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:c[0]||(c[0]=w((...a)=>l.toggleCollapse&&l.toggleCollapse(...a),["prevent"]))},ee),t("div",null,[se,$(n,{to:"/",class:"navbar-brand text-tertiary align-bottom",onClick:w(l.hideCollapse,["prevent"])},{default:K(()=>[O("芳香秘境")]),_:1},8,["onClick"])]),t("div",oe,[t("a",{onClick:c[1]||(c[1]=w((...a)=>s.openOffcanvas&&s.openOffcanvas(...a),["prevent"])),class:"navbar-brand d-inline mx-1","aria-controls":"cartOffcanvas"},[t("i",ne,[s.cart.carts.length?(g(),v("span",ie,[t("span",ae,V(s.cart.carts.length),1)])):at("",!0)])])]),t("div",re,[t("ul",le,[t("li",ce,[$(n,{to:"/about",class:"nav-link",onClick:w(l.hideCollapse,["prevent"])},{default:K(()=>[O("關於我們")]),_:1},8,["onClick"])]),t("li",he,[$(n,{to:"/products",class:"nav-link",onClick:w(l.hideCollapse,["prevent"])},{default:K(()=>[O("課程列表")]),_:1},8,["onClick"])]),t("li",de,[$(n,{to:"/service",class:"nav-link",onClick:w(l.hideCollapse,["prevent"])},{default:K(()=>[O("常見問題")]),_:1},8,["onClick"])]),t("li",_e,[$(n,{to:"/contact",class:"nav-link",onClick:w(l.hideCollapse,["prevent"])},{default:K(()=>[O("聯絡我們")]),_:1},8,["onClick"])])])],512)])]),$(b)],64)}const fe=z(jt,[["render",ue]]);var ht={exports:{}};/*!
  * Bootstrap toast.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(s,c){(function(p,e){s.exports=e(j(),Z(),nt(),X())})(tt,function(p,e,_,l){const n="toast",a=".bs.toast",N=`mouseover${a}`,D=`mouseout${a}`,U=`focusin${a}`,E=`focusout${a}`,P=`hide${a}`,q=`hidden${a}`,I=`show${a}`,A=`shown${a}`,y="fade",x="hide",L="show",S="showing",R={animation:"boolean",autohide:"boolean",delay:"number"},W={animation:!0,autohide:!0,delay:5e3};class k extends p{constructor(r,m){super(r,m),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return W}static get DefaultType(){return R}static get NAME(){return n}show(){if(e.trigger(this._element,I).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(y);const m=()=>{this._element.classList.remove(S),e.trigger(this._element,A),this._maybeScheduleHide()};this._element.classList.remove(x),l.reflow(this._element),this._element.classList.add(L,S),this._queueCallback(m,this._element,this._config.animation)}hide(){if(!this.isShown()||e.trigger(this._element,P).defaultPrevented)return;const m=()=>{this._element.classList.add(x),this._element.classList.remove(S,L),e.trigger(this._element,q)};this._element.classList.add(S),this._queueCallback(m,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(L),super.dispose()}isShown(){return this._element.classList.contains(L)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(r,m){switch(r.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=m;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=m;break}}if(m){this._clearTimeout();return}const T=r.relatedTarget;this._element===T||this._element.contains(T)||this._maybeScheduleHide()}_setListeners(){e.on(this._element,N,r=>this._onInteraction(r,!0)),e.on(this._element,D,r=>this._onInteraction(r,!1)),e.on(this._element,U,r=>this._onInteraction(r,!0)),e.on(this._element,E,r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const m=k.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof m[r]>"u")throw new TypeError(`No method named "${r}"`);m[r](this)}})}}return _.enableDismissTrigger(k),l.defineJQueryPlugin(k),k})})(ht);var me=ht.exports;const pe=et(me),ge={name:"Toast",props:["msg"],mounted(){const s=this.$refs.toast;new pe(s,{delay:2e3}).show()}},ve={class:"d-flex"},be={class:"toast-body"},Ee=t("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1);function Ce(s,c,p,e,_,l){return g(),v("div",{class:gt(["toast align-items-center border-0",`toast-${p.msg.style}`]),role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},[t("div",ve,[t("div",be,V(p.msg.title),1),Ee])],2)}const Ae=z(ge,[["render",Ce]]),Te={components:{Toast:Ae},setup(){const s=rt(),{messages:c}=vt(s);return{messages:c}}},we={class:"toast-container position-absolute pe-3 top-0 end-0",style:{"z-index":"1050"}};function $e(s,c,p,e,_,l){const n=M("Toast");return g(),v("div",we,[(g(!0),v(H,null,it(e.messages,(b,a)=>(g(),bt(n,{key:a,msg:b},null,8,["msg"]))),128))])}const ye=z(Te,[["render",$e]]);const Se={data(){return{showBtn:!1}},components:{Navbar:fe,ToastMessage:ye},methods:{showScrollBtn(){this.showBtn=window.scrollY>=40},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}},mounted(){window.addEventListener("scroll",this.showScrollBtn)},unmounted(){window.removeEventListener("scroll",this.showScrollBtn)}},ke={class:"front"},Ne={class:"min-height"},Le={key:0},Oe=t("i",{class:"bi bi-arrow-up text-white"},null,-1),De=[Oe],Ie={class:"bg-primary py-4 text-white",id:"copyright"},xe={class:"container"},Ve={class:"row text-center"},Me={class:"mb-0"},Pe=t("small",{class:"d-block"}," © 2023 芳香秘境 All Rights Reserved. ",-1);function Be(s,c,p,e,_,l){const n=M("Navbar"),b=M("router-view"),a=M("router-link"),N=M("ToastMessage");return g(),v(H,null,[t("div",ke,[$(n),t("div",Ne,[$(b)])]),_.showBtn?(g(),v("div",Le,[t("a",{href:"#home",class:"btn btn-tertiary rounded-circle",id:"btn-back-to-top",onClick:c[0]||(c[0]=w((...D)=>l.scrollToTop&&l.scrollToTop(...D),["prevent"]))},De)])):at("",!0),t("footer",null,[t("section",Ie,[t("div",xe,[t("div",Ve,[t("p",Me,[O(" 本網站僅供個人作品使用，不提供商業用途｜"),$(a,{to:"/login",class:"d-inline nav-link"},{default:K(()=>[O("登入後台")]),_:1}),Pe])])])])]),$(N)],64)}const Ye=z(Se,[["render",Be]]);export{Ye as default};
